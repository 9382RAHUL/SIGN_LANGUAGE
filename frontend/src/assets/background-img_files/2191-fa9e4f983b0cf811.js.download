!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="824be7a2-4c27-46fb-ad31-e6640f508307",e._sentryDebugIdIdentifier="sentry-dbid-824be7a2-4c27-46fb-ad31-e6640f508307")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2191,4390],{42636:function(e,t,n){"use strict";n.d(t,{Ef:function(){return i},Ni:function(){return a},lY:function(){return o}}),n(48388),n(9299),n(42123);var r=n(22319),a=(0,r.c)({defaultClassName:"_1e09mfn5 $flex $justify-center $items-center $bg-surface-2 hover:$bg-surface-3 $rounded-[8px] $w-[35px] $h-[35px] $text-surface-foreground-2 $shadow-[0_0_60px_rgba(34,_34,_34,_0.25)] $cursor-pointer",variantClassNames:{isDownloading:{true:"$pointer-events-none $cursor-not-allowed"}},defaultVariants:{isDownloading:!1},compoundVariants:[]}),o="_1a81dk55",i=(0,r.c)({defaultClassName:"_1e09mfn1 _1e09mfn0 _1wc8gem5 $relative $bg-black/10 $overflow-hidden $rounded-[4px] $[contain:strict]",variantClassNames:{orientation:{vertical:"$aspect-[9/16]",horizontal:"$aspect-video",square:"$aspect-square"}},defaultVariants:{orientation:"horizontal"},compoundVariants:[]})},64390:function(e,t,n){"use strict";n.r(t),n.d(t,{DownloadVideoButton:function(){return j}});var r=n(97458),a=n(86101),o=n(770),i=n(9249),s=n(19213),u=n(63918),l=n(10893),c=n(42636),d=n(72234),m=n(65122),f=n(85229),p=n(46700),h=n(52983),v=n(50987),b=n(65724),w=n(52240),x=n(33247),$=n(47874),y=n(35576),_=n(14534),N=n(68344);let g=e=>{let{resourceId:t,premium:n,quality:r,authorName:a,orientation:o,poster:i,name:s,trackActivated:u}=e,l=(0,m.e)(),[c,g]=(0,h.useState)(!1),j=(0,p.V)(),{isUserWinback:C,showWinbackModal:I}=(0,f.l)(),R=(0,N.G)({resourceId:t,location:"thumbnail",origin:"resource_thumbnail",limitModalMediaUrl:i,resourceName:s}),T=(0,y.mS)(),D=(0,w.TH)({action:"download",location:"thumbnail",file_id:t,license:n?"premium":"free",resolution:r,author_name:a,category:"video",aspect_ratio:o}),k=(0,d.Lh)(),E=(0,b.W)(t,"video","resource_thumbnail"),{showAttribution:O}=(0,v.J)(),A=(0,x.R)()({authorName:a,isAIGenerated:!1,type:"video",isPremium:n,eventName:"download__thumbnail"}),U=(0,h.useCallback)(()=>{T({resourceId:t,isResourcePremium:n,resourceType:"video",downloadType:"download"})},[T,t,n]);return{download:(0,h.useCallback)(async()=>{if(n&&!l){E({origin:"resource_thumbnail",resourceData:{name:s,resourceType:"video",mediaUrl:i},checkoutQueryParams:A,onButtonClick:U});return}if(C){I();return}g(!0);let e=await (0,_.S)({videoId:t,orientation:o,walletId:k});if(e.success){j(e.data.url,e.data.filename);let r=(0,$.z)(e.data.filename);u&&(T({resourceId:t,isResourcePremium:n||!1,resourceType:"video"}),D({fileExtension:r})),O()}else R(e,A);g(!1)},[n,l,C,t,o,k,E,s,i,A,U,I,j,u,O,T,D,R]),isDownloading:c,userPremium:l}},j=e=>{let{resourceId:t,quality:n,premium:d,authorName:m,orientation:f,trackActivated:p=!0,name:h,poster:v}=e,{t:b}=(0,l.$G)("detailCommon"),{download:w,isDownloading:x}=g({resourceId:t,quality:n,premium:d,authorName:m,orientation:f,trackActivated:p,name:h,poster:v});return(0,r.jsx)(a.u,{trigger:(0,r.jsxs)("a",{className:c.Ni({isDownloading:x}),onClick:()=>{x||w()},role:"link","data-cy":"download-thumbnail",children:[(0,r.jsx)(i.T,{children:b("download")}),x?(0,r.jsx)(o.J,{as:u.Z,size:"sm",className:c.lY}):(0,r.jsx)(o.J,{as:s.Z,size:"base"})]}),side:"left",children:(0,r.jsx)("span",{className:"$capitalize",children:b("download")})})}},97797:function(e,t,n){"use strict";n.d(t,{Y:function(){return m}});var r=n(97458),a=n(74147),o=n(65122),i=n(9249),s=n(41776),u=n(4784),l=n(63081),c=n(33247);let d=e=>{let{id:t,name:n,poster:a,authorName:d}=e,m=(0,o.e)(),f=(0,c.R)()({type:"video",authorName:d,isPremium:!0,isAIGenerated:!1,eventName:"download__thumbnail_crown"});return f.append("origin","".concat(l.Ej,"_premium_video")),(0,r.jsxs)("span",{className:"$bg-grayEbony/70 flex items-center justify-center rounded","data-cy":"premium-resource-crown",children:[(0,r.jsx)(i.T,{children:"Premium"}),m?(0,r.jsx)(u.s,{}):(0,r.jsx)(s.w,{resource:{id:t,name:n,mediaUrl:a,resourceType:"video"},urlParams:new URLSearchParams(f),category:"video"})]})},m=e=>{let{id:t,name:n,poster:o,authorName:i,isPremium:s,isAIGenerated:u}=e;return(0,r.jsxs)("div",{className:"absolute left-2 top-2 flex gap-2",children:[s&&(0,r.jsx)(d,{id:t,name:n,poster:o,authorName:i}),u&&(0,r.jsx)(a.N,{})]})}},93295:function(e,t,n){"use strict";n.d(t,{Q:function(){return s}});var r=n(97458),a=n(38741),o=n(50987),i=n(64390);let s=e=>{let{id:t,poster:n,location:s,author:u,premium:l,quality:c,orientation:d,name:m}=e,{attributionEnabled:f}=(0,o.J)();return f?null:(0,r.jsxs)("aside",{className:"$absolute $top-[10px] $right-[10px] $flex $flex-col $gap-[10px] $transition-all",children:[(0,r.jsx)(i.DownloadVideoButton,{resourceId:t,authorName:u.name,premium:l,quality:c,orientation:d,name:m,poster:n}),"thumbnail"===s&&(0,r.jsx)(a.AddToCollection,{type:"video",id:t,location:s,tooltipProps:{side:"left"}})]})}},3797:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(97458),a=n(58058),o=n.n(a),i=n(51780),s=n(50987);let u=e=>{let{children:t,as:n,onHandleClick:a,name:u}=e,{attributionEnabled:l}=(0,s.J)(),c=(0,i.useRouter)(),d="$block $h-full $w-full";return l?(0,r.jsx)("div",{className:d,children:t}):(0,r.jsx)(o(),{href:{pathname:c.pathname,query:c.query},as:n,className:d,shallow:!0,scroll:!1,onClick:a,"aria-label":u,prefetch:!1,children:t})}},29708:function(e,t,n){"use strict";n.d(t,{n:function(){return c}});var r=n(97458),a=n(53344),o=n.n(a),i=n(50987),s=n(28851),u=n(77007);let l=o()(()=>n.e(6303).then(n.bind(n,86303)).then(e=>e.AttributionThumbnail),{loadableGenerated:{webpack:()=>[86303]},ssr:!1}),c=e=>{let{author:t,id:n,name:a,position:o,premium:c,videoSrc:d,duration:m,enableGaTracker:f,isInViewport:p,posterSrc:h,videoUrl:v,isHovered:b}=e,{attributionEnabled:w}=(0,i.J)();if(w){var x,$;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("video",{width:480,height:270,className:u.R,preload:"metadata",autoPlay:!1,poster:h,muted:!0,playsInline:!0,loop:!0,children:p&&(0,r.jsx)("source",{"data-src":d,type:"video/mp4"})}),(0,r.jsx)(l,{authorId:null!==(x=null==t?void 0:t.id)&&void 0!==x?x:0,authorName:null!==($=null==t?void 0:t.name)&&void 0!==$?$:"",resourceUrl:v,resourceId:n,resourceName:a,mediaUrl:h,mediaWidth:640,mediaHeight:360,isAIGenerated:!1,isPremium:c,resourceType:"video"})]})}return(0,r.jsx)(s.VideoContentComponent,{poster:h,videoSrc:d,duration:m,name:a,author:t,isInViewport:p,id:n,premium:c,position:o,enableGaTracker:f,checkHover:!0,isHovered:b})}},37908:function(e,t,n){"use strict";n.d(t,{v:function(){return l}});var r=n(97458),a=n(57291),o=n(63123),i=n(70870),s=n(18666),u=n(38012);let l=e=>{let{id:t,name:n,poster:l,containerRef:c}=e,{width:d}=(0,i.n)(c),m=!!(d&&d>=o.CC);return(0,r.jsx)(s.B,{buttonClassName:(0,a.cx)("$flex $text-white $gap-5 $items-center $sprinkles-text-sm $font-semibold $absolute $bottom-10 $left-10 $transition-opacity",u.p,m?"$px-15 $py-0":"$px-[8px]"),id:t,name:null!=n?n:"",preview:{width:0,height:0,url:null!=l?l:""},type:"video",inThumbnail:!0,showLabel:m})}},47874:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});let r=e=>e.includes(".")?e.toLowerCase().split(".").pop():""},14534:function(e,t,n){"use strict";n.d(t,{S:function(){return r}});let r=async e=>{let{videoId:t,orientation:n,walletId:r,optionId:a,action:o}=e,i=new URLSearchParams;n&&i.set("orientation",n),r&&i.set("walletId",r),a&&i.set("optionId",a.toString()),o&&i.set("action",o);let s=await fetch("/api/video/".concat(t,"/download?").concat(i.toString()));return s.ok?{success:!0,data:await s.json()}:429===s.status?{success:!1,data:"DOWNLOAD_LIMIT_REACHED",metadata:"/download-limit"}:403===s.status?{success:!1,data:"FORBIDDEN"}:401===s.status||405===s.status?{success:!1,data:"AUTHENTICATION_ERROR"}:404===s.status?{success:!1,data:"NOT_FOUND"}:{success:!1,data:"UNKNOWN_ERROR"}}},68344:function(e,t,n){"use strict";n.d(t,{G:function(){return u}});var r=n(19170),a=n(51780),o=n(10893),i=n(52983),s=n(65724);let u=e=>{let{resourceId:t,location:n,origin:u,limitModalMediaUrl:l,resourceName:c}=e,{openToast:d}=(0,r.x_)(),{t:m}=(0,o.$G)("error"),{push:f}=(0,a.useRouter)(),p=(0,s.W)(t,u,n);return(0,i.useCallback)((e,t)=>{let n={DOWNLOAD_LIMIT_REACHED:()=>{p({origin:u,resourceData:{name:c,resourceType:"video",mediaUrl:l},checkoutQueryParams:t,modalType:"downloadLimit"})},AUTHENTICATION_ERROR:()=>{f("/oauth-logout")},NOT_FOUND:()=>{d({message:m("notFound")})},UNKNOWN_ERROR:()=>{d({message:m("unknown")})}};if("string"==typeof e.data&&e.data in n)return n[e.data]()},[p,u,c,l,f,d,m])}},5479:function(e,t,n){"use strict";n.d(t,{l:function(){return u}});var r=n(97813),a=n(91657),o=n(51780),i=n(52983),s=n(97311);let u=e=>{let{id:t,url:n,related:u,nativeAspectRatio:l,track:c,uuid:d,fromElement:m}=e,{query:{aspect_ratio:f}}=(0,o.useRouter)(),p=(0,i.useCallback)(e=>{if(null==e?void 0:e.toString()){let t=(0,r.X)(e),o=t===a._y?"":t;return"".concat(n,"/").concat(o)}return n},[n]),h=(0,i.useMemo)(()=>u?p():f&&f!==l?p(f):p(),[u,f,p,l]);return(0,s.f)(t,h,{...m&&{fromElement:m},track:c,...d&&{uuid:d}})}},91050:function(e,t,n){"use strict";n.d(t,{Ch:function(){return w},bd:function(){return f},Ft:function(){return h}});var r=n(87420),a=n(7616),o=n(52983),i=n(45591),s=n(44932),u=n(12297),l=n(24399),c=n(73139);let d=(0,c.xu)(e=>{let{locale:t,id:n}=e;return(0,c.n7)((0,l.cn)(async()=>{if(null===n)return null;let e=await fetch("/api/video?id=".concat(n,"&locale=").concat(t));if(!e.ok)throw Error("Failed to fetch video ".concat(n));return await e.json()}))},u.vZ),m=()=>{let e=(0,r.ZK)(),t=(0,a.Dv)(s.D),n=(0,a.Dv)(d({locale:e,id:t}));return"hasData"===n.state?n.data:null},f=()=>{let e=(0,i.yd)(),t=m();return(0,o.useMemo)(()=>[null===t,null!=t?t:e],[e,t])},p=(0,o.createContext)([]),h=()=>(0,o.useContext)(p);var v=n(97458),b=n(61462);let w=e=>{let{videos:t,children:n,...r}=e;return(0,v.jsx)(p.Provider,{value:t,children:(0,v.jsx)(b.b,{...r,items:t,children:n})})}},42123:function(){}}]);